<div>
  <label style="color:gray">Please select at least one check box as the search criteria.....</label>

  <div >
    <label><mat-checkbox class="example-margin" id="city-checkbox"  [(ngModel)]="City" > City</mat-checkbox></label>
    <label ><mat-checkbox class="example-margin" id="organizer-checkbox"  [(ngModel)]="Organizer"> Organizer</mat-checkbox></label>
    <label ><mat-checkbox class="example-margin" id="category-checkbox" [(ngModel)]="Category"> Category</mat-checkbox></label>
    <label ><mat-checkbox class="example-margin" id="active-checkbox"  [(ngModel)]="Active"> Active</mat-checkbox></label>
  </div>
    <form (ngSubmit)="onSearch()" #searchForm="ngForm" novalidate>
      <!-- City Field -->
      <mat-form-field *ngIf="City">
        <mat-label>City</mat-label>
        <input 
          matInput 
          type="text" 
          [(ngModel)]="searchParams.city" 
          name="city" 
          id="city" 
          placeholder="Enter City" 
          required
          appNoNumbers
          #cityField="ngModel">
        <mat-error *ngIf="cityField.errors?.['required'] && cityField.touched">City cannot be empty</mat-error>
        <mat-error *ngIf="cityField.errors?.['noNumbers'] && cityField.touched">City cannot contain only numbers</mat-error>
      </mat-form-field>
      &nbsp;
    
      <mat-form-field *ngIf="Organizer">
        <mat-label>Organizer</mat-label>
        <input 
          matInput 
          type="text" 
          [(ngModel)]="searchParams.organizer" 
          name="organizer" 
          id="organizer" 
          placeholder="Enter Organizer" 
          required
          appNoNumbers
          #organizerField="ngModel">
        <mat-error *ngIf="organizerField.errors?.['required'] && organizerField.touched">Organizer cannot be empty</mat-error>
        <mat-error *ngIf="organizerField.errors?.['noNumbers'] && organizerField.touched">Organizer cannot contain only numbers</mat-error>
      </mat-form-field>
      &nbsp;
    
      <mat-form-field *ngIf="Category">
        <mat-label>Category</mat-label>
        <mat-select 
          [(ngModel)]="searchParams.categoryId" 
          name="categoryId" 
          id="category-select" 
          required
          #categoryField="ngModel">
          <mat-option value="">----</mat-option>
          <mat-option *ngFor="let category of categories" [value]="category.CATEGORY_ID">
            {{ category.CATEGORY_ID }}: {{ category.NAME }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="categoryField.errors?.['required'] && categoryField.touched">Category cannot be empty</mat-error>
      </mat-form-field>
      &nbsp;
    
      <mat-form-field *ngIf="Active">
        <mat-label>Active</mat-label>
        <mat-select 
          [(ngModel)]="searchParams.active" 
          name="active" 
          id="active-select" 
          required
          #activeField="ngModel">
          <mat-option value="1">active</mat-option>
          <mat-option value="0">suspended</mat-option>
        </mat-select>
        <mat-error *ngIf="activeField.errors?.['required'] && activeField.touched">Active status cannot be empty</mat-error>
      </mat-form-field>
      &nbsp;
        <button  mat-flat-button color="primary" type="submit" *ngIf="City||Category||Organizer||Active">Search</button>
        &nbsp;
        <button  mat-flat-button color="primary" type="button" (click)="clearSearchFields()" *ngIf="City||Category||Organizer||Active">Clear</button>
    </form>
    
    <hr>  
    <table id="search-results" style="width: 100%" border="1">
      <tr  *ngFor="let row of splitIntoRows(fundraisers, 3)">
        <td *ngFor="let fundraiser of row" style="width: 33.33%;border-radius: 12px;vertical-align: top;">
          <mat-card class="card_css">
            <mat-card-header>
              <mat-card-title>{{ fundraiser.CAPTION }}</mat-card-title>
              <mat-card-subtitle>
                <img src="./assets/images/æ ‘.jpg" style="height: 30px; width: 30px;border-radius: 15px;">
                <span>{{ fundraiser.ORGANIZER }}</span>
              </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <div>
                <p>Organizer: {{ fundraiser.ORGANIZER }}</p>
                <p>Target Fund: {{ fundraiser.TARGET_fund }}</p>
                <p>Current Fund: {{ fundraiser.CURRENT_fund }}</p>
                <p>City: {{ fundraiser.CITY }}</p>
                <p>Event: {{ fundraiser.EVENT }}</p>
                <p>Status: {{ fundraiser.IS_ACTIVE ? 'Active' : 'Suspended' }}</p>
                <p>Category: {{ fundraiser.CATEGORY_ID }}</p>
              </div>
            </mat-card-content>
            <mat-card-actions align="end">
              <button mat-button color="primary" [routerLink]="['/fundraiser', fundraiser.FUNDRAISE_ID]">View Details</button>
            </mat-card-actions>
          </mat-card>
        </td>
      </tr>
    </table>
  </div>
  